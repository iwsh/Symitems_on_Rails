<h1>Calendars#calendar</h1>
<p>Find me in app/views/calendars/calendar.html.erb</p>
<%= link_to "logout", "/logout" %>
<% 
year = @year.to_i
month = @month.to_i 
%>
<table width="100%">
  <tr><td width="60%" height="350">
    <table border width="100%" height="300">
	    <caption><h2><%= year %>/<%= month %></h2></caption>
      <tr>
        <th width="14%">Sun</th>
        <th width="14%">Mon</th>
        <th width="14%">Tue</th>
        <th width="14%">Wed</th>
        <th width="14%">Thu</th>
        <th width="14%">Fri</th>
        <th width="14%">Sat</th>
      </tr>
      <% 
        require 'date'
        first_day = Date.new(year,month,1)
        last_day = Date.new(year,month,-1)
        if first_day.wday != 0 then
          for x in 1..first_day.wday do 
      %>
            <td></td>
          <% end %>
        <% end %>
      <% 
        for d in 1..last_day.day do
          if first_day.wday == 0 then
      %>
            </tr><tr>      
          <% end %>
          <td valign="baseline"><a href="#" id="<%= first_day.day %>" onClick="disp();return false;cont(this);"><%= first_day.day %></a></td>
          <% first_day = first_day.next
        end %>
      <% 
        if first_day.wday != 0 then
          for x in first_day.wday..6 do %>
            <td></td>
          <% end 
        end %>
    </table>
    </td><td width="40%">
      <div id="area1" style="display:none;">
        <% for x in 1.. %><div id="date" value="1"></div><% do %>
          Hello World!
        <% end %>
      </div>
    </td>
  </tr><tr>
    <td width="70%">
    <table width="100%">
      <tr>
        <td width="33%" align="left"><%= button_to "前月へ","/calendar/#{@year}/#{@month-1}", {method: :get} %></td>
        <td width="33%" align="center"><%= button_to "今月へ","/calendar", {method: :get} %></td>
        <td width="33%" align="right"><%= button_to "次月へ","/calendar/#{@year}/#{@month+1}", {method: :get} %></td>
      </tr>
    </table></td>
    <td width="30%">
    <div id="area2" style="display:none;">  
      <table width="100%">
        <tr>
          <td width="33%" align="left"><%= button_to "削除","/calendar/#{@year}/#{@month-1}", {method: :get} %></td>
          <td width="33%" align="center"><%= button_to "編集","/calendar", {method: :get} %></td>
          <td width="33%" align="right"><%= button_to "追加","/calendar/#{@year}/#{@month+1}", {method: :get} %></td>
        </tr>
      </table>
    </div>
    </td>
  </tr>
</table>

<script language="JavaScript" type="text/javascript">
<!--
var elem1_1 = document.getElementById("area1");
var elem1_2 = document.getElementById("area2");
var elem1_3 = document.getElementById("date");
function disp() {
  elem1_1.style.display = "";
  elem1_2.style.display = "";
}
function cont(date) {
  var date_id = date.id; 
  elem1_3.value = date_id;
}
-->
</script>